"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6338],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),m=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=m(e.components);return a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=m(n),k=i,u=c["".concat(p,".").concat(k)]||c[k]||s[k]||r;return n?a.createElement(u,o(o({ref:t},d),{},{components:n})):a.createElement(u,o({ref:t},d))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var m=2;m<r;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},72267:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>l,contentTitle:()=>p,metadata:()=>m,assets:()=>d,toc:()=>s,default:()=>k});var a=n(87462),i=n(63366),r=(n(67294),n(3905)),o=["components"],l={title:"React Native Web",author:"Havit Rovik",authorURL:"https://github.com/haruelrovix"},p=void 0,m={permalink:"/blog/2018/12/13/react-native-web",source:"@site/blog/2018-12-13-react-native-web.md",title:"React Native Web",description:"Comprehensive Guide to create simple app using React Native Web and React Native\xa0Elements",date:"2018-12-13T00:00:00.000Z",formattedDate:"December 13, 2018",tags:[],readingTime:11.455,truncated:!1,authors:[{name:"Havit Rovik",url:"https://github.com/haruelrovix"}],frontMatter:{title:"React Native Web",author:"Havit Rovik",authorURL:"https://github.com/haruelrovix"},prevItem:{title:"React Native Elements 1.0",permalink:"/blog/2019/01/27/1.0-release"}},d={authorsImageUrls:[void 0]},s=[{value:"ToC",id:"toc",children:[],level:2},{value:"0\ufe0f\u20e3 Initial\xa0Step",id:"0\ufe0f\u20e3-initialstep",children:[],level:2},{value:"1\ufe0f\u20e3 First\xa0Step",id:"1\ufe0f\u20e3-firststep",children:[],level:2},{value:"2\ufe0f\u20e3 Step\xa0Two",id:"2\ufe0f\u20e3-steptwo",children:[],level:2},{value:"3\ufe0f\u20e3 Give it a\xa0try",id:"3\ufe0f\u20e3-give-it-atry",children:[],level:2},{value:"4\ufe0f\u20e3 Add Home component",id:"4\ufe0f\u20e3-add-home-component",children:[{value:"Styling for Home component",id:"styling-for-home-component",children:[],level:3}],level:2},{value:"5\ufe0f\u20e3 Routing",id:"5\ufe0f\u20e3-routing",children:[{value:"Implement withHeader",id:"implement-withheader",children:[],level:3}],level:2},{value:"6\ufe0f\u20e3 Fetch data from GitHub API",id:"6\ufe0f\u20e3-fetch-data-from-github-api",children:[{value:"Render commit data",id:"render-commit-data",children:[],level:3}],level:2},{value:"7\ufe0f\u20e3 Handle form submission",id:"7\ufe0f\u20e3-handle-form-submission",children:[],level:2},{value:"8\ufe0f\u20e3 Polishing the app",id:"8\ufe0f\u20e3-polishing-the-app",children:[],level:2},{value:"Conclusion",id:"conclusion",children:[],level:2},{value:"Troubleshooting \ud83d\udcba",id:"troubleshooting-",children:[{value:"Authors",id:"authors",children:[],level:3}],level:2}],c={toc:s};function k(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Comprehensive Guide to create simple app using React Native Web and React Native\xa0Elements")),(0,r.kt)("p",null,"Case study: ",(0,r.kt)("inlineCode",{parentName:"p"},"gitphone"),", GitHub repository checker for your smartphone."),(0,r.kt)("img",{src:"https://cdn-images-1.medium.com/max/1000/1*PHcPxP963ascQkeZOqy-rQ.png"}),(0,r.kt)("h2",{id:"toc"},"ToC"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Initialize the project using ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/VISI-ONE/create-react-native-web-app"},"CRNWA")),(0,r.kt)("li",{parentName:"ul"},"Make sure everything works: Android, iOS and Web"),(0,r.kt)("li",{parentName:"ul"},"Add RNE latest ( 1.0.0-beta7 ) to the project"),(0,r.kt)("li",{parentName:"ul"},"Add 2 screens")),(0,r.kt)("p",null,"Screen 1 RNE components:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Input"),(0,r.kt)("li",{parentName:"ol"},"Button with Icon")),(0,r.kt)("p",null,"Screen 2 RNE components:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Header"),(0,r.kt)("li",{parentName:"ol"},"ListItem"),(0,r.kt)("li",{parentName:"ol"},"Avatar"),(0,r.kt)("li",{parentName:"ol"},"Text")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"gitphone")," should have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"routing, ",(0,r.kt)("a",{parentName:"li",href:"https://reacttraining.com/react-router"},"react-router"),". It works great both on Native and Web."),(0,r.kt)("li",{parentName:"ul"},"calls to GitHub API. See ",(0,r.kt)("a",{parentName:"li",href:"https://developer.github.com/v3/"},"https://developer.github.com/v3/"),".")),(0,r.kt)("h2",{id:"0\ufe0f\u20e3-initialstep"},"0\ufe0f\u20e3 Initial\xa0Step"),(0,r.kt)("p",null,"Install create-react-native-web-app"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ npm i -g create-react-native-web-app\n")),(0,r.kt)("h2",{id:"1\ufe0f\u20e3-firststep"},"1\ufe0f\u20e3 First\xa0Step"),(0,r.kt)("p",null,"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"gitphone")," project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'\u03bb create-react-native-web-app gitphone\n\n\u23f3 Creating React Native Web App by the name of gitphone ...\n\n\u2705 Created project folder.\n\n\u2705 Added project files.\n\n\u23f3 Installing project dependencies...\n\nyarn install v1.10.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.4: The platform "win32" is incompatible with this module.\ninfo "fsevents@1.2.4" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 797.66s.\n\n\u2705 Installed project dependencies.\n\n\u2705 Done! \ud83d\ude01\ud83d\udc4d Your project is ready for development.\n\n* change directory to your new project\n$ cd gitphone\n\n$ Then run the these commands to get started:\n\n* To run development Web server\n$ yarn web\n\n* To run Android on connected device (after installing Android Debug Bridge "adb" - https://developer.android.com/studio/releases/platform-tools)\n$ yarn android\n\n* To run ios simulator (after installing Xcode - only on Apple devices)\n$ yarn ios\n\n* To run tests for Native and Web\n$ yarn test\n\n* To run build for Web\n$ yarn build\n')),(0,r.kt)("p",null,"Change to ",(0,r.kt)("inlineCode",{parentName:"p"},"gitphone")," directory and test the web app by running ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn web"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Starting the development server...\nCompiled successfully!\nYou can now view create-react-native-web-app in the browser.\nLocal:            http://localhost:3001/\nOn Your Network:  http://172.26.235.145:3001/\nNote that the development build is not optimized.\nTo create a production build, use yarn build.\n")),(0,r.kt)("img",{src:"https://cdn-images-1.medium.com/max/800/1*tmq9VHw3S4cgxfWg8xN3gQ.png",width:300}),(0,r.kt)("p",null,"Now, test the ",(0,r.kt)("inlineCode",{parentName:"p"},"gitphone")," android app by running ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn android"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Installing APK 'app-debug.apk' on 'Redmi 4X - 7.1.2' for app:debug\nInstalled on 1 device.\n\nBUILD SUCCESSFUL\n\nTotal time: 21.783 secs\n\nStarting: Intent { cmp=com.creaternwapp/.MainActivity }\n\u2728  Done in 25.64s.\n")),(0,r.kt)("p",null,"If the build successful, you'll see the app installed on your Android (emulator) device."),(0,r.kt)("img",{src:"https://cdn-images-1.medium.com/max/800/1*BddouTisdXvDzY5vB9U3pQ.png",width:300}),(0,r.kt)("p",null,"But if you got an error when run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn android"),", please see Troubleshooting section below."),(0,r.kt)("p",null,"The last part for First Step, make sure it can be run on iOS without any problem. Run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn ios")," and ",(0,r.kt)("em",{parentName:"p"},"voila!")),(0,r.kt)("img",{src:"https://cdn-images-1.medium.com/max/800/1*6AHlumHN29RANlXsrXDu4g.png",width:300}),(0,r.kt)("h2",{id:"2\ufe0f\u20e3-steptwo"},"2\ufe0f\u20e3 Step\xa0Two"),(0,r.kt)("p",null,"Installing React Native Elements (RNE)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ yarn add react-native-elements@beta\n")),(0,r.kt)("p",null,"Installing React Native Vector Icons (RNVI)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ yarn add react-native-vector-icons\n")),(0,r.kt)("p",null,"Linking:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ react-native link react-native-vector-icons\n")),(0,r.kt)("p",null,"Both RNE and RNVI are written using es6. If you run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn web")," at this point, you'll got an error."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./node_modules/react-native-elements/src/config/withTheme.js\nModule parse failed: Unexpected token (12:28)\nYou may need an appropriate loader to handle this file type.\n")),(0,r.kt)("p",null,"We need to tell webpack to transpile them."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("inlineCode",{parentName:"li"},"config/webpack.config.dev.js")),(0,r.kt)("li",{parentName:"ol"},"On line 141 ",(0,r.kt)("inlineCode",{parentName:"li"},"Process JS with babel"),", add RNE and RNVI to include"),(0,r.kt)("li",{parentName:"ol"},"Do the same for ",(0,r.kt)("inlineCode",{parentName:"li"},"config/webpack.config.prod.js")," as well \ud83d\udc4c")),(0,r.kt)("p",null,"If you get lost, see this ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/01d335dfcabec17a6aa5bc7a53fef277"},"gist")," or commit ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/8c0e6036d9231cc934285502528a2061b848ce2d"},"8c0e603"),"."),(0,r.kt)("h2",{id:"3\ufe0f\u20e3-give-it-atry"},"3\ufe0f\u20e3 Give it a\xa0try"),(0,r.kt)("p",null,"Now, let's grasp the idea how RNE works."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open src/App.js")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import Button from RNE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { Button } from 'react-native-elements';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On render, change TouchableHighlight to use RNE's Button")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Run yarn ios, yarn android and yarn web to see it in action! \ud83d\udc4f"))),(0,r.kt)("p",null,"Note: If you got an error ",(0,r.kt)("inlineCode",{parentName:"p"},"Could not find com.android.tools.build.appt2")," when running ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn android"),", add ",(0,r.kt)("inlineCode",{parentName:"p"},"google")," on the gradle repositories."),(0,r.kt)("p",null,"See this ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/51a695a4fe292767bedc32ec638f9736"},"gist")," or commit for the details: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/a2ebba14aef533925b593933fa885e2f990b2ace"},"a2ebba1"),"."),(0,r.kt)("h2",{id:"4\ufe0f\u20e3-add-home-component"},"4\ufe0f\u20e3 Add Home component"),(0,r.kt)("p",null,"Our first component will be ",(0,r.kt)("inlineCode",{parentName:"p"},"Home"),". On this component, there are two input fields and one Submit button."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Inside ",(0,r.kt)("inlineCode",{parentName:"li"},"src"),", create new folder: ",(0,r.kt)("inlineCode",{parentName:"li"},"Components")),(0,r.kt)("li",{parentName:"ol"},"Add new file called ",(0,r.kt)("inlineCode",{parentName:"li"},"Home.js")," ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/04eeb6c4d8d0cc56e041e5be2c20bc97"},"gist")),(0,r.kt)("li",{parentName:"ol"},"On ",(0,r.kt)("inlineCode",{parentName:"li"},"App.js"),", import ",(0,r.kt)("inlineCode",{parentName:"li"},"Home")," component ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/15cd4badc3a9ec949037b19d9195d6bc"},"gist")),(0,r.kt)("li",{parentName:"ol"},"Run ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn ios"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn android")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn web")," to see it in action! \ud83c\udf87")),(0,r.kt)("h3",{id:"styling-for-home-component"},"Styling for Home component"),(0,r.kt)("p",null,"You should notice that our ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," doesn\u2019t look good in term of UI. Let\u2019s add styling for it."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Inside ",(0,r.kt)("inlineCode",{parentName:"li"},"Components"),", create ",(0,r.kt)("inlineCode",{parentName:"li"},"Shared.style.js")," file ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/7fee3c03b9fead9b74739e28a24effa9"},"gist")),(0,r.kt)("li",{parentName:"ol"},"Import the style and update ",(0,r.kt)("inlineCode",{parentName:"li"},"Home")," component as below ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/4fb2e695d1562ff3475ebc91e6c27fcd"},"gist")),(0,r.kt)("li",{parentName:"ol"},"Looks better now","*",", commit for adding Home component: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/haruelrovix/gitphone/commit/2e510c462c68d7c68433f2706cf8fbb847d6541e"},"2e510c4"),".")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Wait a minute\u2026")," ","*","Seems there is a problem with RNVI on the web version. You can check this ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/oblador/react-native-vector-icons#web-with-webpack"},"Web (with webpack)")," article or just following steps bellow."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("inlineCode",{parentName:"li"},"config/webpack.config.dev.js")),(0,r.kt)("li",{parentName:"ol"},"Add url-loader on line 162 ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/edd520f4bf4268e17ef56f40314080a5"},"gist")),(0,r.kt)("li",{parentName:"ol"},"Do the same for ",(0,r.kt)("inlineCode",{parentName:"li"},"config/webpack.config.prod.js")," as well \ud83d\udc4c"),(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("inlineCode",{parentName:"li"},"src/index.js")," file"),(0,r.kt)("li",{parentName:"ol"},"Add ",(0,r.kt)("inlineCode",{parentName:"li"},"iconFont")," and append ",(0,r.kt)("inlineCode",{parentName:"li"},"style")," to document\u2019s head ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/b291e8a4f34577d94e85570d304b82fe"},"gist"))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2584/1*YS7jioDKIKKvort5AzGXYA.png",alt:"Our RNE x RNW progress so far~"}),(0,r.kt)("em",{parentName:"p"},"Our RNE x RNW progress so far~")),(0,r.kt)("h2",{id:"5\ufe0f\u20e3-routing"},"5\ufe0f\u20e3 Routing"),(0,r.kt)("p",null,"Next, let\u2019s add second component: ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create new folder inside ",(0,r.kt)("inlineCode",{parentName:"li"},"Components")," named ",(0,r.kt)("inlineCode",{parentName:"li"},"Commit")),(0,r.kt)("li",{parentName:"ol"},"Add new file: ",(0,r.kt)("inlineCode",{parentName:"li"},"CommitList.js")," ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/4cece6275cf40d97defb036756bab82b"},"gist"))),(0,r.kt)("p",null,"On our app, user goes to second screen by click on ",(0,r.kt)("inlineCode",{parentName:"p"},"Submit")," button. How do we implement it?"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u201creact-router comes to the rescue\u201d")," - ",(0,r.kt)("a",{parentName:"p",href:"https://reacttraining.com/react-router/"},"https://reacttraining.com/react-router/")),(0,r.kt)("p",null,"Add react-router-dom and react-router-native"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ yarn add react-router-dom react-router-native\n")),(0,r.kt)("p",null,"Web needs ",(0,r.kt)("inlineCode",{parentName:"p"},"BrowserRouter")," while native ",(0,r.kt)("inlineCode",{parentName:"p"},"NativeRouter"),". We need to separate it based on the platform."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"On ",(0,r.kt)("inlineCode",{parentName:"li"},"src"),", create ",(0,r.kt)("inlineCode",{parentName:"li"},"Utils")," folder"),(0,r.kt)("li",{parentName:"ol"},"Add two files on ",(0,r.kt)("inlineCode",{parentName:"li"},"Utils"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Routing.native.js")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"Routing.web.js")," ",(0,r.kt)("a",{parentName:"li",href:"https://gist.github.com/haruelrovix/3d7e26df6bb2d6056e2f4612a77fd2fc"},"gist"))),(0,r.kt)("p",null,"Those file\u2019s content differ only on the second line. ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/32353543e417373a770365f855701c37"},"gist")),(0,r.kt)("p",null,"Now, glue it together."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"App.js"),", import ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList")," component")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import ",(0,r.kt)("inlineCode",{parentName:"p"},"Route"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Router")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Switch")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"Utils/Routing"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Implement routing inside ",(0,r.kt)("inlineCode",{parentName:"p"},"render")," method ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/d5bf357efbbf094b26549f40709ec74f"},"gist"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now for the action on ",(0,r.kt)("inlineCode",{parentName:"p"},"Submit")," button, open ",(0,r.kt)("inlineCode",{parentName:"p"},"Home.js"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import ",(0,r.kt)("inlineCode",{parentName:"p"},"withRouter")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"Utils/Routing")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { withRouter } from '../Utils/Routing';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"WithRouter")," is an HOC. Use it to wrap ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," component"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"export default withRouter(Home);\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"onPress")," property for the button"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"onPress={this.onPressButton}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Implement the ",(0,r.kt)("inlineCode",{parentName:"p"},"onPressButton")," event handler"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"onPressButton = () => this.props.history.push('/commit');\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"All ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," together ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/8fc8ae9dab580c5e79f24a59a2c195b6"},"gist")," | ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/f193aa3c268e7be263ae529de0f719ffd443e26d"},"commit")))),(0,r.kt)("p",null,"Test it on ",(0,r.kt)("inlineCode",{parentName:"p"},"web")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"android"),", you should be able to go back and forth between screens using ",(0,r.kt)("inlineCode",{parentName:"p"},"Submit")," and pressing ",(0,r.kt)("inlineCode",{parentName:"p"},"Back")," button."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u201cHow can I go back on iOS?\u201d")," \ud83d\ude02"),(0,r.kt)("h3",{id:"implement-withheader"},"Implement withHeader"),(0,r.kt)("p",null,"We will create a ",(0,r.kt)("inlineCode",{parentName:"p"},"withHeader")," HOC. Why HOC? We can reuse it easier ",(0,r.kt)("em",{parentName:"p"},"if we add more screens later.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On ",(0,r.kt)("inlineCode",{parentName:"p"},"src"),", create ",(0,r.kt)("inlineCode",{parentName:"p"},"HOCs")," folder")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"withHeader.js")," file")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import ",(0,r.kt)("inlineCode",{parentName:"p"},"Header")," from RNE and ",(0,r.kt)("inlineCode",{parentName:"p"},"Icon")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"RNVI/FontAwesome")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { Header } from 'react-native-elements';\nimport Icon from 'react-native-vector-icons/FontAwesome';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"withHeader")," accepts one prop: ",(0,r.kt)("inlineCode",{parentName:"p"},"title")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"const withHeader = ({ title = '' }) => (WrappedComponent) => {\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Event handler to go back / go home"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"goBack = () => this.props.history.goBack();\n\ngoHome = () => this.props.history.replace('/');\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import and use ",(0,r.kt)("inlineCode",{parentName:"p"},"withHeader")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList")," component ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/b1608f9f010caa47c18ebc71d87106ae"},"gist")," | ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/0cf995bde91f5958e252188f1343de923069e7f3"},"commit")))),(0,r.kt)("h2",{id:"6\ufe0f\u20e3-fetch-data-from-github-api"},"6\ufe0f\u20e3 Fetch data from GitHub API"),(0,r.kt)("p",null,"Let\u2019s fetch a real-live data: list commit on repository by ",(0,r.kt)("a",{parentName:"p",href:"https://developer.github.com/v3/repos/commits/#list-commits-on-a-repository"},"GitHub")," and render it on our second screen, ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET /repos/:owner/:repo/commits\n")),(0,r.kt)("p",null,"Ideally, the :owner and :repo are form values from our first screen. Since the objective of this article is RNE x RNW, talk about that form (and state-management) later on."),(0,r.kt)("p",null,"To fetch GitHub API, we will use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/esphen/fetch-hoc"},"fetch-hoc")," package and also need ",(0,r.kt)("a",{parentName:"p",href:"https://redux.js.org/api/compose"},"compose")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"redux"),", to handle multiple HOCs on the same component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ yarn add fetch-hoc redux\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList.js"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import ",(0,r.kt)("inlineCode",{parentName:"p"},"{ compose }")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"redux")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"fetch")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"fetch-hoc"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Use it as below ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/1c3affbfd585c3b8acfc1c156164fd1f"},"gist")," | ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/334197c7c05bd1bdb1b648ca56cfe69c8b496eed"},"commit")))),(0,r.kt)("p",null,"Now run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn web"),", open ",(0,r.kt)("inlineCode",{parentName:"p"},"network")," tab of ",(0,r.kt)("inlineCode",{parentName:"p"},"DevTools")," and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Submit")," button, you\u2019ll see bunch of commit data. By default GitHub API returning 30 commits."),(0,r.kt)("h3",{id:"render-commit-data"},"Render commit data"),(0,r.kt)("p",null,"Commit data that will be displayed on the screen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"author.avatar_url\n\ncommit:\n  author.name\n  message\n")),(0,r.kt)("p",null,"Let\u2019s modify ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList.js")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add new imports"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { ActivityIndicator, Dimensions, FlatList, Platform, View } from 'react-native';\nimport { Avatar, ListItem } from 'react-native-elements';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On main render, modify it as below"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"<View style={styles.container}>\n  {this.renderContent()}\n</View>\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"renderContent")," method"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"renderContent = () => (\n  this.props.loading ?\n    <ActivityIndicator color='#87ceeb' /> :\n    <FlatList\n      keyExtractor={this.keyExtractor}\n      data={this.props.data}\n      renderItem={this.renderItem}\n    />\n)\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"renderItem")," method"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"renderItem = ({ item }) => (\n  <ListItem\n    title={item.commit.author.name}\n    subtitle={item.commit.message}\n    leftElement={this.renderLeftElement(item)\n  />\n)\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"renderLeftElement")," method"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"renderLeftElement = (item) => (\n  <View>\n    <Avatar\n      source={{ uri: item.author.avatar_url }}\n      size='medium'\n      rounded\n    />\n  </View>\n)\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Here is our new ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList")," including the styling to make it prettier ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/haruelrovix/e4b02328766efd1491338d5111becff7"},"gist")," | ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/27a78672958f0caaa34b3e93c934685b9dcebd50"},"commit")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Here they are!")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/6436/1*iD3lSG6D3lGDkJr5HB2i2A.png",alt:"awesome, eh?"}),(0,r.kt)("em",{parentName:"p"},"awesome, eh?")),(0,r.kt)("h2",{id:"7\ufe0f\u20e3-handle-form-submission"},"7\ufe0f\u20e3 Handle form submission"),(0,r.kt)("p",null,"Our app looks great so far. But we are not passing values from first to second screen. Let\u2019s do it."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To handle form, we\u2019ll use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/jaredpalmer/formik"},"formik")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"$ yarn add formik\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"Home.js")," and import it"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { Formik } from 'formik';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Wrap main ",(0,r.kt)("inlineCode",{parentName:"p"},"View")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"formik")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"<Formik initialValues={{ owner: '', repo: '' }}\n  onSubmit={this.onPressButton}>\n  {({ handleChange, handleSubmit, values }) => (\n    <View style={styles.container}>\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"onChangeText")," handler to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Input")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"<Input ... onChangeText={handleChange('owner')} value={values.owner}\n<Input ... onChangeText={handleChange('repo')} value={values.repo}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Change ",(0,r.kt)("inlineCode",{parentName:"p"},"Button")," ",(0,r.kt)("inlineCode",{parentName:"p"},"onPress")," props to ",(0,r.kt)("inlineCode",{parentName:"p"},"handleSubmit")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"<Button ... onPress={handleSubmit}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Don\u2019t forget to close the main ",(0,r.kt)("inlineCode",{parentName:"p"},"View")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"    </View>\n  )}\n</Formik>\n")))),(0,r.kt)("p",null,"Form submission: done \ud83d\udc4c Next question: How do we pass these values to second screen? ",(0,r.kt)("em",{parentName:"p"},"Send them when we redirect to second screen!")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Inside ",(0,r.kt)("inlineCode",{parentName:"p"},"onPressButton")," method, send an object instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"pathname")," only."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"this.props.history.push({\n  pathname: '/commit',\n  state: { owner, repo }\n});\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList"),", import ",(0,r.kt)("inlineCode",{parentName:"p"},"withRouter")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { withRouter } from '../../Utils/Routing';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"withRouter")," inside ",(0,r.kt)("inlineCode",{parentName:"p"},"compose"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Get the values passed down to ",(0,r.kt)("inlineCode",{parentName:"p"},"withRouter")," and use it to ",(0,r.kt)("inlineCode",{parentName:"p"},"fetch")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"withHeader({ title: 'Commits' }),\nwithRouter,\nfetch(({ location: { state = {} } }) => (\n `https://api.github.com/repos/${state.owner}/${state.repo}/commits`\n))\n")))),(0,r.kt)("p",null,"HOC\u2019s order does matter. So, make sure it the same as snippet above. In case you lost, here is the commit: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/1d83c5e1487d2d99c00cc1b18f563ed4497d87b9"},"1d83c5e"),"."),(0,r.kt)("p",null,"Test the app. Now we should able to fetch any GitHub repository, ",(0,r.kt)("em",{parentName:"p"},"with some caveats.")," \ud83d\udc40"),(0,r.kt)("h2",{id:"8\ufe0f\u20e3-polishing-the-app"},"8\ufe0f\u20e3 Polishing the app"),(0,r.kt)("p",null,"What happens if we fetch repository which doesn\u2019t exist? ",(0,r.kt)("em",{parentName:"p"},"Red screen on native, blank screen on web!")," \ud83d\ude39"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"fetch-hoc")," returns an error if it has. Let\u2019s use it."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On ",(0,r.kt)("inlineCode",{parentName:"p"},"CommitList"),", modify ",(0,r.kt)("inlineCode",{parentName:"p"},"renderContent")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"this.props.loading ?\n  <ActivityIndicator color='#87ceeb' /> :\n  this.renderFlatList()\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import ",(0,r.kt)("inlineCode",{parentName:"p"},"Text")," from RNE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"import { ..., Text } from 'react-native-elements';\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"renderFlatList")," method"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"this.props.error ?\n  <Text h4>Error: {this.props.data.message || '\ud83d\ude15'}</Text> :\n  <FlatList ... />\n")))),(0,r.kt)("p",null,"Test it. Instead of ",(0,r.kt)("em",{parentName:"p"},"red or blank")," screen, now ",(0,r.kt)("inlineCode",{parentName:"p"},"Error: Not Found")," displayed."),(0,r.kt)("p",null,"What\u2019s else? Try to fetch ",(0,r.kt)("inlineCode",{parentName:"p"},"facebook/react-native"),". We got another error \ud83d\ude40"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Cannot read property 'avatar_url' of null\n")),(0,r.kt)("p",null,"Not all of ",(0,r.kt)("inlineCode",{parentName:"p"},"author")," have ",(0,r.kt)("inlineCode",{parentName:"p"},"avatar_url"),". We should do this for the Avatar ",(0,r.kt)("inlineCode",{parentName:"p"},"source"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"source={{uri: (item.author && item.author.avatar_url) || undefined}}\n")),(0,r.kt)("p",null,"So, our app renders nothing if it has no url? It doesn\u2019t look good. ",(0,r.kt)("em",{parentName:"p"},"Solution: render author initial name.")),(0,r.kt)("p",null,"With the help of RegEx and Avatar ",(0,r.kt)("inlineCode",{parentName:"p"},"title")," props, ",(0,r.kt)("inlineCode",{parentName:"p"},"renderLeftElement")," should look like this now:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"renderLeftElement = (item) => {\n  const initials = item.commit.author.name.match(/\\b\\w/g) || [];\n\nreturn (\n    <View style={leftElementStyle}>\n      <Avatar\n        title={((initials.shift() || '') + (initials.pop() || ''))}\n        ...\n")),(0,r.kt)("p",null,"Commit for Polishing the app section: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/gitphone/commit/943974b285635884dc3ec1d7981146307dfd98d3"},"943974b"),"."),(0,r.kt)("p",null,"When I wrote this, fetch ",(0,r.kt)("inlineCode",{parentName:"p"},"facebook/react-native")," returning following:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/3812/1*OYTvJP0RLLQemyT0ukb1Iw.png",alt:"Why no love for regex? Thanks to [Sanoor](https://stackoverflow.com/a/33076482)."}),(0,r.kt)("em",{parentName:"p"},"Why no love for regex? Thanks to ",(0,r.kt)("a",{parentName:"em",href:"https://stackoverflow.com/a/33076482"},"Sanoor"),".")),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"We have created a simple app using RNE + RNW \ud83d\udc4f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Works great on iOS, web and android? \u2705")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Use components from react-native-elements? \u2705")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Move between screens? \u2705")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"API calls? \u2705"))),(0,r.kt)("p",null,"Some improvements for ",(0,r.kt)("inlineCode",{parentName:"p"},"gitphone"),":"),(0,r.kt)("p",null,"If you go back from ",(0,r.kt)("inlineCode",{parentName:"p"},"Commits")," screen, input form on ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," screen are empty. If you want preserve previous values, this can be fixed easily by introducing redux to the app. References here: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/rnw-github/pull/1/commits/48108ddc3e80669b9d57b2f998a5073d5e5eabb0"},"48108dd"),"."),(0,r.kt)("p",null,"Can we fetch more commits data once we reach the most bottom of the list? Infinite scroll?"),(0,r.kt)("p",null,"For web, we can use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/joshwnj/react-visibility-sensor"},"react-visibility-sensor"),". Check it out: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/rnw-github/pull/1/commits/6c1f6894d78840648a11bbdf2d0e841fb6dad12d"},"6c1f689"),"."),(0,r.kt)("p",null,"For native, it\u2019s easier. We can use ",(0,r.kt)("inlineCode",{parentName:"p"},"FlatList")," ",(0,r.kt)("inlineCode",{parentName:"p"},"onEndReached")," props. To give you an idea how, see this: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/haruelrovix/rnw-github/pull/2/commits/9d2e1f2a3e8605f8184f1f8950eb0175045bb67a"},"9d2e1f2"),"."),(0,r.kt)("h2",{id:"troubleshooting-"},"Troubleshooting \ud83d\udcba"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"#1")," ",(0,r.kt)("strong",{parentName:"p"},"Build failed when running ",(0,r.kt)("inlineCode",{parentName:"strong"},"yarn android"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},":app:compileDebugAidl FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugAidl'.\n> java.lang.IllegalStateException: aidl is missing\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n")),(0,r.kt)("p",null,"Here is how to fix #1:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open Android Studio.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*GJ4GJ5KKimpr7MZP4R2yPA.png",alt:null})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("inlineCode",{parentName:"li"},"android")," project under ",(0,r.kt)("inlineCode",{parentName:"li"},"gitphone"),".")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*jyLo3Jk-nudieT3aaEzUBQ.png",alt:null})),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Click Update on this prompt.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*7I2tqGZ9C63aUGOtae-XHg.png",alt:null})),(0,r.kt)("p",null,"Wait for Android Studio syncing the project."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"It synced successfully with two errors.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2558/1*GUlICoUm4cU4KzUfps3W0Q.png",alt:null})),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"At this stage, just click ",(0,r.kt)("inlineCode",{parentName:"p"},"Update Build Tools version and sync project")," on the sync window.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now, the remaining warning is the ",(0,r.kt)("inlineCode",{parentName:"p"},"Configuration 'compile'..."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To fix that, open ",(0,r.kt)("inlineCode",{parentName:"p"},"app/build.gradle")," file, change ",(0,r.kt)("inlineCode",{parentName:"p"},"dependencies")," section (line 139) to use ",(0,r.kt)("inlineCode",{parentName:"p"},"implementation")," instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"compile"),"."),(0,r.kt)("p",{parentName:"li"},'dependencies {\nimplementation fileTree(dir: "libs", include: ','["*.jar"]',')\nimplementation "com.android.support:appcompat-v7:23.0.1"\nimplementation "com.facebook.react:react-native:+"\n}')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Sync it again and close Android Studio."))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*lIP2u1_7NmTmy8mcri6Smw.png",alt:null})),(0,r.kt)("p",null,"Troubleshooting for android is done. Now, you should be able to run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn android")," successfully."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"#2 Build failed when running ",(0,r.kt)("inlineCode",{parentName:"strong"},"yarn ios"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"** BUILD FAILED **\n\nThe following build commands failed:\n\n CompileC /gitphone/ios/build/Build/Intermediates.noindex/React.build/Debug-iphonesimulator/double-conversion.build/Objects-normal/x86_64/strtod.o /gitphone/node_modules/react-native/third-party/double-conversion-1.1.5/src/strtod.cc normal x86_64 c++ com.apple.compilers.llvm.clang.1_0.compiler\n")),(0,r.kt)("p",null,"Here is how to fix #2:"),(0,r.kt)("p",null,"Inside the project, run script below from your favourite terminal"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ curl -L https://git.io/fix-rn-xcode10 | bash\n")),(0,r.kt)("p",null,"If you run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn ios")," again, and you got this error"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"The following build commands failed:\n Libtool /gitphone/ios/build/Build/Products/Debug-iphonesimulator/libRCTWebSocket.a normal x86_64\n(1 failure)\n")),(0,r.kt)("p",null,"Please run this script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ cp ios/build/Build/Products/Debug-iphonesimulator/libfishhook.a node_modules/react-native/Libraries/WebSocket\n")),(0,r.kt)("p",null,"Troubleshooting for iOS is done. Now, you should be able to run ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn ios")," successfully."),(0,r.kt)("h3",{id:"authors"},"Authors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/haruelrovix"},"haruelrovix")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/andangrd"},"andangrd"))))}k.isMDXComponent=!0}}]);